<form action="jsp/admin/plugins/socialhub/modules/statistics/ViewStats.jsp" method="post">
	<div class="content-box">
		<h2>#i18n{module.socialhub.statistics.view_stats.pageTitle}</h2>
		<div class="content-box-content">
			<div class="highlight-box">
				<p>
					<label for="extenderType">#i18n{module.socialhub.statistics.view_stats.labelExtenderType} :</label>
					<@combo name="extenderType" default_value=filter.extenderType! items=listExtenderTypes />
				</p>
				<p>
					<label for="idExtendableResource">#i18n{module.socialhub.statistics.view_stats.labelIdExtendableResource} :</label>
					<input type="text" name="idExtendableResource" value="${filter.idExtendableResource!}" maxlength="255" size="20" />
				</p>
				<p>
					<label for="extendableResourceType">#i18n{module.socialhub.statistics.view_stats.labelExtendableResourceType} :</label>
					<@combo name="extendableResourceType" default_value=filter.extendableResourceType! items=listResourceTypes />
				</p>
				<p>
					<label for="dateCreationBegin">#i18n{module.socialhub.statistics.view_stats.labelDate} :</label>
					<input type="text" id="dateCreationBegin" name="dateCreationBegin" size="10" maxlength="10" value="<#if filter?? && filter.dateCreationBegin??>${filter.dateCreationBegin}</#if>" />
		    		<@getDatePicker idField="dateCreationBegin" language="fr" />
		    		#i18n{module.socialhub.statistics.view_stats.labelTo}
		    		<input type="text" id="dateCreationEnd" name="dateCreationEnd" size="10" maxlength="10" value="<#if filter?? && filter.dateCreationEnd??>${filter.dateCreationEnd}</#if>" />
		    		<@getDatePicker idField="dateCreationEnd" language="fr" />
				</p>
				<input type="submit" name="search" value="#i18n{socialhub.button.search}" class="button" />
				<input type="submit" name="reset" value="#i18n{portal.util.labelCancel}" class="button" />
			</div>
			<@paginationAdmin paginator=paginator combo=1 />
			<#assign sortSearchAttribute = buildSortSearchAttribute( filter ) />
			<table>
			    <tr>
			    	<th>
			    		#i18n{module.socialhub.statistics.view_stats.labelExtenderType}
			    		<@sort jsp_url="jsp/admin/plugins/socialhub/modules/statistics/ViewStats.jsp" attribute="extender_type&amp;session=session" />
			    	</th>
			    	<th>
			    		#i18n{module.socialhub.statistics.view_stats.labelIdExtendableResource}
			    		<@sort jsp_url="jsp/admin/plugins/socialhub/modules/statistics/ViewStats.jsp" attribute="id_resource&amp;session=session" />
			    	</th>
			    	<th>
			    		#i18n{module.socialhub.statistics.view_stats.labelExtendableResourceType}
			    		<@sort jsp_url="jsp/admin/plugins/socialhub/modules/statistics/ViewStats.jsp" attribute="resource_type&amp;session=session" />
			    	</th>
			    	<th>
			    		#i18n{module.socialhub.statistics.view_stats.labelNumber}
			    		<@sort jsp_url="jsp/admin/plugins/socialhub/modules/statistics/ViewStats.jsp" attribute="nb_histories&amp;session=session" />
			    	</th>
				</tr>
				<#if listStats?? && listStats?has_content>
					<#list listStats as stat>
						<tr>
							<td>${stat.extenderType!}</td>
							<td>${stat.idExtendableResource!}</td>
							<td>${stat.extendableResourceType!}</td>
							<td>${stat.number!}</td>
						</tr>
					</#list>
					<tr>
						<th colspan="3">#i18n{module.socialhub.statistics.view_stats.labelTotalNumbers}</th>
						<th>${totalNumbers!}</th>
					</tr>
				</#if>
			</table>
			<@paginationAdmin paginator=paginator />
		</div>
	</div>
</form>
